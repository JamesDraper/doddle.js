!function(){var t=function(t,r,n){for(var e=-1,i=function(r,n,i){var o=t.indexOf(i,e);if(-1===o)throw new Error("Unterminated "+r+" block in: "+t);o+=i.length;var l=t.substring(e,o);return e=o,l.substring(n.length,l.length-i.length).trim()},o=0,l=void 0,d='var compiled = "';null!==(l=function(){var r=[["print",n.startPrint],["comment",n.startComment],["logic",n.startLogic]].map(function(r){return[r[0],t.indexOf(r[1],e)]}).filter(function(t){return-1!==t[1]}).sort(function(t,r){return t[1]>r[1]});return 0===r.length?null:(e=r[0][1],r[0][0])}());)d+=t.substring(o,e).replace(/\r?\n|\r/g,"\\n"),"print"===l&&(d+='" + '+i("print",n.startPrint,n.endPrint)+' + "'),"comment"===l&&i("comment",n.startComment,n.endComment),"logic"===l&&(d+='";',d+=i("logic",n.startLogic,n.endLogic),d+='compiled += "'),o=e;d+=t.substring(e).replace(/\r?\n|\r/g,"\\n")+'";',d+="return compiled;",!0===r&&(console.log("Template compiled"),console.log(d)),this.render=new Function("vars",d)},r=function(r){var n={startPrintDelimiter:"{{",endPrintDelimiter:"}}",startCommentDelimiter:"{#",endCommentDelimiter:"#}",startLogicDelimiter:"{%",endLogicDelimiter:"%}",debug:!1},e=function(t){var r={};for(var e in n)r[e]=void 0!==t[e]?t[e]:n[e];return{debug:r.debug,delimiters:{startPrint:r.startPrintDelimiter,endPrint:r.endPrintDelimiter,startComment:r.startCommentDelimiter,endComment:r.endCommentDelimiter,startLogic:r.startLogicDelimiter,endLogic:r.endLogicDelimiter}}}(r),i={},o=function(t){var r=document.getElementsByTagName("script");for(var n in r)if("text/doddle-template"===r[n].type&&r[n].id===t)return r[n];throw new Error("Could not find template: "+t+".")};this.fromString=function(r,n,o){var l="str:"+n;void 0===i[l]&&(i[l]=new t(n,e.debug,e.delimiters)),r.innerHTML=i[l].render(o)},this.fromTemplate=function(r,n,l){var d="tpl:"+n;void 0===i[d]&&(i[d]=new t(o(n).innerHTML,e.debug,e.delimiters)),r.innerHTML=i[d].render(l)}},n=function(){var t={},n=function(n){var e=JSON.stringify(n);return void 0===t[e]&&(t[e]=new r(n)),t[e]};this.fromString=function(t,r,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n(i).fromString(t,r,e)},this.fromTemplate=function(t,r,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n(i).fromTemplate(t,r,e)}};$.fn.doddle=function(){var t=new n,r=function(t){return t.tplId=void 0,t.tplStr=void 0,t.vars=void 0,t};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===n.tplId&&void 0===n.tplStr||void 0!==n.tplId&&void 0!==n.tplStr)throw new Error("Either tplStr or tplId must passed as doddle plugin options.");void 0!==n.tplId?t.fromTemplate(this[0],n.tplId,n.vars,r(n)):t.fromString(this[0],n.tplStr,n.vars,r(n))}}()}();